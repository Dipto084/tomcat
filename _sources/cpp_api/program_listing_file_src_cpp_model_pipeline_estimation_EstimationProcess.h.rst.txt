
.. _program_listing_file_src_cpp_model_pipeline_estimation_EstimationProcess.h:

Program Listing for File EstimationProcess.h
============================================

|exhale_lsh| :ref:`Return to documentation for file <file_src_cpp_model_pipeline_estimation_EstimationProcess.h>` (``src/cpp/model/pipeline/estimation/EstimationProcess.h``)

.. |exhale_lsh| unicode:: U+021B0 .. UPWARDS ARROW WITH TIP LEFTWARDS

.. code-block:: cpp

   #pragma once
   
   #include <memory>
   
   #include "pipeline/estimation/Estimator.h"
   #include "utils/Definitions.h"
   
   namespace tomcat {
       namespace model {
   
           class EstimationProcess {
             public:
               //------------------------------------------------------------------
               // Types, Enums & Constants
               //------------------------------------------------------------------
   
               //------------------------------------------------------------------
               // Constructors & Destructor
               //------------------------------------------------------------------
   
               EstimationProcess();
   
               virtual ~EstimationProcess();
   
               //------------------------------------------------------------------
               // Copy & Move constructors/assignments
               //------------------------------------------------------------------
   
               // Copy constructor and assignment should be deleted to avoid
               // implicit slicing and loss of polymorphic behaviour in the
               // subclasses. To deep copy, the clone method must be used.
               EstimationProcess(const EstimationProcess&) = delete;
   
               EstimationProcess& operator=(const EstimationProcess&) = delete;
   
               EstimationProcess(EstimationProcess&&) = default;
   
               EstimationProcess& operator=(EstimationProcess&&) = default;
   
               //------------------------------------------------------------------
               // Member functions
               //------------------------------------------------------------------
   
               void set_training_data(const EvidenceSet& training_data);
   
               void add_estimator(std::shared_ptr<Estimator> estimator);
   
               void keep_estimates();
   
               void clear_estimates();
   
               //------------------------------------------------------------------
               // Virtual functions
               //------------------------------------------------------------------
   
               virtual void prepare();
   
               virtual void get_info(nlohmann::json& json) const;
   
               //------------------------------------------------------------------
               // Pure virtual functions
               //------------------------------------------------------------------
   
               virtual void estimate(const EvidenceSet& test_data) = 0;
   
               //------------------------------------------------------------------
               // Getters & Setters
               //------------------------------------------------------------------
   
               void set_display_estimates(bool display_estimates);
   
             protected:
               //------------------------------------------------------------------
               // Member functions
               //------------------------------------------------------------------
   
               void copy_estimation(const EstimationProcess& estimation);
   
               void estimate(std::shared_ptr<Estimator> estimator,
                             const EvidenceSet& test_data);
   
               //------------------------------------------------------------------
               // Data members
               //------------------------------------------------------------------
               std::vector<std::shared_ptr<Estimator>> estimators;
   
               // Whether the estimates should be displayed in the evaluation file.
               bool display_estimates = false;
   
               // Estimates computed each time the estimation process is executed.
               std::vector<CumulativeNodeEstimates> cumulative_estimates;
           };
   
       } // namespace model
   } // namespace tomcat
