

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Program Listing for File README.md &mdash; ToMCAT 0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/collapsible-lists/css/tree_view.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ToMCAT
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../software.html">Software Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software.html#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../team.html">Team</a></li>
<li class="toctree-l1"><a class="reference internal" href="../become_a_participant.html">Become a participant</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tomcat_openapi.html">Data models and message bus topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ToMCAT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Program Listing for File README.md</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/cpp_api/program_listing_file_src_cpp_pro_gen_README.md.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="program-listing-for-file-readme-md">
<span id="program-listing-file-src-cpp-pro-gen-readme-md"></span><h1>Program Listing for File README.md<a class="headerlink" href="#program-listing-for-file-readme-md" title="Permalink to this headline">¶</a></h1>
<p>↰ <a class="reference internal" href="file_src_cpp_pro_gen_README.md.html#file-src-cpp-pro-gen-readme-md"><span class="std std-ref">Return to documentation for file</span></a> (<code class="docutils literal notranslate"><span class="pre">src/cpp/pro_gen/README.md</span></code>)</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gu">## Prerequisites</span>

<span class="k">*</span> Cmake 3.10 or above
<span class="k">*</span> Boost 1.69
<span class="k">*</span> Python 3.7+ for the vizualiser

<span class="gu">## Installation Steps</span>

The following steps are to install the procedural generation library only. Details about the Minecraft Java code that reads the JSON procduced by the library is given at the end of the document.

<span class="k">*</span> Clone this [<span class="nt">ToMCAT repository</span>](<span class="na">https://github.com/ml4ai/tomcat/tree/master.</span>)
<span class="k">*</span> Navigate into <span class="sb">`src/cpp/pro_gen/`</span>.
<span class="k">*</span> Open a terminal prompt in this folder.
<span class="k">*</span> Create a directory called <span class="sb">`build`</span> and go into it with <span class="sb">`mkdir build &amp;&amp; cd build`</span>.
<span class="k">*</span> Run <span class="sb">`cmake ..`</span>.
<span class="k">*</span> Finally, run <span class="sb">`make -j`</span>.

That&#39;s it! There should now be an executable in that folder called <span class="sb">`generator`</span>.


<span class="gu">## Tips on Running the Generator</span>

The following assumes you&#39;re still inside the <span class="sb">`build`</span> directory from before or in the same directory as where <span class="sb">`generator`</span> is

<span class="k">*</span> Running <span class="sb">`./generator`</span>  should generate the ZombieWorld by default.
<span class="k">*</span> Running <span class="sb">`./generator -h`</span> or <span class="sb">`./generator --help`</span> should list the various program options available.
    <span class="k">*</span>  You should see options to set the seed for the random object (which may or may not be relevant depending on if you use the random object in your algorithm).
    <span class="k">*</span>  You should also see options to specify where to output the low level and semantic JSONs. Of the two, the Minecraft Java code reads the low level JSON, and the semantic JSON is meant to be more human readable.
    <span class="k">*</span> The <span class="sb">`world_type`</span> program option allows you to choose whether you want to generate the Gridworld or ZombieWorld using algorithms pre-included in the library. The Gridworld type supports more options which you can pass. You can look at what these additional options are with <span class="sb">`./generator --help_gridworld`</span>.


<span class="gu">## Minecraft Java Code</span>

In ToMCAT, a class called <span class="sb">`WorldBuilder`</span> was created to read and index everything to place from the library&#39;s procedural generator output. The [<span class="nt">class can be found here</span>](<span class="na">https://github.com/ml4ai/tomcat/blob/master/external/malmo/Minecraft/src/main/java/edu/arizona/tomcat/Utils/WorldBuilder.java</span>).

Using this class is quite simple. You would simply do:

    private void buildStructures(World world) {
            WorldBuilder worldBuilder = new WorldBuilder(); // Create a world builder object
            worldBuilder.build(&quot;low_level_map.json&quot;, world, false, true); // Send it the world and the JSON to build with
    }

Here, &quot;low_level_map.json&quot; is the low level JSON output from the library, and world is a Minecraft world as represented in Minecraft&#39;s code. The false and true arguments specify wheter the WorldBuilder object should save the indexes it creates. Saving them can be fairly memory intensive.

[<span class="nt">An example of it&#39;s use in ToMCAT can be found here.</span>](<span class="na">https://github.com/ml4ai/tomcat/blob/master/external/malmo/Minecraft/src/main/java/edu/arizona/tomcat/Mission/ProceduralGenMission.java</span>)

<span class="gu">## Creating your first algorithm</span>

A more detailed tutorial will be added. Examples of algorithms can be found in <span class="sb">`GridWorld.cpp`</span> and <span class="sb">`ZombieWorld.cpp`</span>.

Decide on an algorithm/file name and then add a line to <span class="sb">`CmakeLists.txt`</span> after <span class="sb">`Gridworld.cpp`</span> as <span class="sb">`&lt;your file name&gt;.cpp`</span>. Add it before the closing parenthesis.
Also remember to add a program option for your new algorithm in <span class="sb">`generator.cpp`</span>.

When you&#39;re ready to see the JSON output, navigate into the <span class="sb">`build`</span> directory again, and run <span class="sb">`cmake .. &amp;&amp; make -j`</span>. The <span class="sb">`generator`</span> executable should be created again which you can now use with your new program option.

<span class="gu">## Vizualising the Map</span>

There is a small python script included in the <span class="sb">`pro_gen`</span> library that can vizualise the maps you create with the library. Place the low level JSON file named as <span class="sb">`low_level_map.json`</span> in the same directory as the <span class="sb">`pro_gen_vizualiser.py`</span> script. Run the script to see the map vizualised in <span class="sb">`vizualized_plt.png`</span>.
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019, University of Arizona.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>